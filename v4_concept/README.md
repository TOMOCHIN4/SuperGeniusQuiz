# v4 コンセプト

> このフォルダは新バージョン（v4）開発のためのスターターキットです

---

## このフォルダの使い方

### 新規プロジェクト作成時

```bash
# 1. 新しいフォルダを作成
mkdir my-quiz-app-v4

# 2. このフォルダの内容をコピー
cp -r v4_concept/* my-quiz-app-v4/

# 3. 新プロジェクトで開発開始
cd my-quiz-app-v4
```

---

## フォルダ構成

```
v4_concept/
├── README.md              ← このファイル（最初に読む）
├── IDEAS.md               ← 構想メモ（コンセプト・画面フロー・設計方針）
├── DATA_SCHEMA.md         ← データ構造定義（シートのカラム定義）
├── MIGRATION_GUIDE.md     ← 既存データ移行手順
└── question_allocation.md ← ジャンル構造（40カテゴリの定義）
```

---

## 読む順序

1. **IDEAS.md** - 何を作るか理解する
2. **question_allocation.md** - ジャンル構造を確認
3. **DATA_SCHEMA.md** - データ構造を確認
4. **MIGRATION_GUIDE.md** - 既存データの活用方法

---

## v4 のコンセプト要約

### 一言で

**サクサク動く4択クイズアプリ（LLM不要）**

### 従来との違い

| 項目 | v1-v3 | v4 |
|------|-------|-----|
| 問題生成 | LLMで都度生成 | 事前生成済み |
| 速度 | 遅い（数秒〜） | 即時表示 |
| API費用 | Gemini API課金 | 無料 |
| 複雑さ | 高い | シンプル |

### 技術スタック

```
Google Sheets ← データ（問題・ユーザー・履歴）
     ↑↓
    GAS ← ロジック（取得・保存・集計）
     ↑↓
  HTML/JS ← UI（クイズ画面・結果画面）
```

---

## 開発の進め方

### Phase 1: データ準備
- [ ] 新スプレッドシート作成
- [ ] 問題データ移行（最小限から）
- [ ] ユーザー・履歴シート作成

### Phase 2: GAS実装
- [ ] 問題取得API
- [ ] 回答保存API
- [ ] ユーザー認証API
- [ ] 実績集計API

### Phase 3: フロントエンド
- [ ] ログイン画面
- [ ] ホーム画面
- [ ] 教科/ジャンル選択
- [ ] クイズ画面
- [ ] 結果画面

### Phase 4: 拡張
- [ ] 詳細分析
- [ ] 新着コンテンツ表示
- [ ] コンテンツ追加

---

## 重要な設計原則

1. **軽快さ最優先** - 派手さより速さ
2. **シンプル** - 機能は最小限から
3. **拡張しやすい** - 問題追加 = シート行追加
4. **3人で十分** - 過剰設計しない

---

## 既存資産

### 使えるもの
- ジャンル構造（40カテゴリ）
- 既存の答え・ヒント（1,600問分）
- ユーザーデータ（必要なら）

### 使わないもの
- LLM呼び出しコード
- 検証パート
- 複雑なエラーハンドリング

---

## 参考リンク

- 既存スプレッドシート: `10JLP5ds2CNDOEYTxEzDyY82dErbD-InkTeuyzS_w_3U`
- 既存GASプロジェクト: clasp で管理中

---

**作成日**: 2025-12-30
